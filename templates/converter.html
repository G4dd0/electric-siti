{% extends 'base.html' %}

{% block title %}Convertitore{% endblock %}

{% block content %}
<!DOCTYPE html>
<html lang="it">
<head>
    <style>
        h2, h3 {
            color: #2c3e50;
            font-weight: 600;
        }
        
        pre {
            background-color: #f4f4f4;
            padding: 5px 10px;
            border-radius: 6px;
            display: inline-block;
        }
        
        p {
            line-height: 1.6;
        }
        
    </style>
</head>
<body>
    <h2>Guida introduttiva all'Elettrotecnica</h2>
    <p>L'elettrotecnica √® la branca della fisica che studia i fenomeni elettrici, le loro leggi e l'utilizzo dell'energia elettrica nei circuiti. In questa sezione troverai una guida semplificata ai principali concetti fondamentali, utile per orientarsi nel mondo dell'elettronica pratica.</p>
    <hr>

    <h3>üìå 1. Carica elettrica (Q)</h3>
    <p>La carica elettrica √® la quantit√† di elettricit√† presente in un corpo o trasferita da un punto all'altro. L'unit√† di misura √® il <strong>Coulomb (C)</strong>. La carica di un singolo elettrone √® circa <code>‚àí1,6 √ó 10‚Åª¬π‚Åπ C</code>.</p>

    <h3>üìå 2. Corrente elettrica (I)</h3>
    <p>√à il flusso di cariche in un conduttore nel tempo. Si misura in <strong>Ampere (A)</strong>. La relazione fondamentale √®:
    <pre>I = Q / t</pre>
    Dove <code>I</code> √® la corrente, <code>Q</code> la carica in Coulomb, e <code>t</code> il tempo in secondi.</p>

    <h3>üìå 3. Tensione o differenza di potenziale (V)</h3>
    <p>La tensione elettrica rappresenta la ‚Äúspinta‚Äù che muove le cariche. √à come la pressione dell'acqua in un tubo. Si misura in <strong>Volt (V)</strong>.</p>

    <h3>üìå 4. Resistenza elettrica (R)</h3>
    <p>La resistenza indica quanto un materiale si oppone al passaggio della corrente. Si misura in <strong>Ohm (Œ©)</strong>. La relazione con corrente e tensione √® data dalla <strong>Legge di Ohm</strong>:
    <pre>V = I √ó R</pre>
    </p>

    <h3>üìå 5. Capacit√† elettrica (C)</h3>
    <p>La capacit√† √® la propriet√† di un componente (condensatore) di accumulare carica elettrica. Si misura in <strong>Farad (F)</strong>. La formula √®:
    <pre>Q = C √ó V</pre>
    </p>

    <h3>üìå 6. Induttanza (L)</h3>
    <p>L'induttanza √® la capacit√† di un componente (induttore) di opporsi a variazioni della corrente. Si misura in <strong>Henry (H)</strong> e la formula √®:
    <pre>V = L √ó (dI/dt)</pre>
    dove <code>dI/dt</code> rappresenta la variazione di corrente nel tempo.</p>

    <hr>
    <p>Queste grandezze sono alla base di ogni circuito elettrico o elettronico. Nel convertitore qui sotto potrai calcolare valori tra tensione, corrente, resistenza, capacit√† e induttanza in modo semplice e intuitivo.</p>

    <hr>
    <h2>Convertitore Elettrotecnico Interattivo</h2>
    <label for="formulaSelect">Scegli una formula:</label>
    <select id="formulaSelect" onchange="mostraForm()">
        <option value="">-- Seleziona --</option>
        <option value="induttanza"> Legge di Induttanza </option>
        <option value="ohm">Legge di Ohm</option>
        <option value="condensatore">Energia in un Condensatore</option>
        <option value="joule">Potenza (Legge di Joule)</option>
    </select>

    <!-- Contenitore dei form -->
    <div id="formContainer" style="margin-top: 20px;"></div>

    <script>
    function mostraForm() {
        const container = document.getElementById("formContainer");
        const scelta = document.getElementById("formulaSelect").value;
        let html = "";

        if (scelta == "induttanza"){
            html =  `
                    <h2>Calcolatore Legge di Induttanza</h2>
                    <form id="induttanzaForm">
                        <label>Tensione (V): <input type="number" id="v" step="any"></label><br>
                        <label>Induttanza (L in Henry): <input type="number" id="l" step="any"></label><br>
                        <label>ŒîI (Ampere): <input type="number" id="deltaI" step="any"></label><br>
                        <label>Œît (secondi): <input type="number" id="deltaT" step="any"></label><br>
                        <button type="button" onclick="calcolaInduttanza()">Calcola</button>
                    </form>

                    <p id="risultato"></p>
            ` ;
        } else if (scelta === "ohm") {
                html = `
                    <h3>Legge di Ohm (V = I √ó R)</h3>
                    <form id="ohmForm">
                        <label>Tensione (V): <input type="number" id="vOhm" step="any"></label><br>
                        <label>Corrente (I): <input type="number" id="iOhm" step="any"></label><br>
                        <label>Resistenza (R): <input type="number" id="rOhm" step="any"></label><br>
                        <button type="button" onclick="calcolaOhm()">Calcola</button>
                    </form>
                    <p id="outputOhm"></p>
                `;
        } else if (scelta === "condensatore") {
            html = `
                <h3>Energia in un condensatore (E = ¬Ω √ó C √ó V¬≤)</h3>
                <form id="condForm">
                    <label>Capacit√† (C in Farad): <input type="number" id="cCap" step="any"></label><br>
                    <label>Tensione (V): <input type="number" id="vCap" step="any"></label><br>
                    <button type="button" onclick="calcolaCondensatore()">Calcola Energia</button>
                </form>
                <p id="outputCond"></p>
            `;
        } else if (scelta === "joule") {
            html = `
                <h3>Potenza elettrica (P = I¬≤ √ó R)</h3>
                <form id="jouleForm">
                    <label>Corrente (I): <input type="number" id="iJoule" step="any"></label><br>
                    <label>Resistenza (R): <input type="number" id="rJoule" step="any"></label><br>
                    <button type="button" onclick="calcolaJoule()">Calcola Potenza</button>
                </form>
                <p id="outputJoule"></p>
            `;
        }

        container.innerHTML = html;
    }

    function calcolaInduttanza() {
        const V = parseFloat(document.getElementById("v").value);
        const L = parseFloat(document.getElementById("l").value);
        const deltaI = parseFloat(document.getElementById("deltaI").value);
        const deltaT = parseFloat(document.getElementById("deltaT").value);

        let risultato = "";

        if (!isNaN(L) && !isNaN(deltaI) && !isNaN(deltaT) && isNaN(V)) {
            const Vcalc = L * (deltaI / deltaT);
            risultato = `Tensione calcolata: ${Vcalc.toFixed(3)} V`;
        } else if (!isNaN(V) && !isNaN(deltaI) && !isNaN(deltaT) && isNaN(L)) {
            const Lcalc = V / (deltaI / deltaT);
            risultato = `Induttanza calcolata: ${Lcalc.toFixed(6)} H`;
        } else if (!isNaN(V) && !isNaN(L) && !isNaN(deltaT) && isNaN(deltaI)) {
            const deltaIcalc = (V * deltaT) / L;
            risultato = `ŒîI calcolata: ${deltaIcalc.toFixed(3)} A`;
        } else if (!isNaN(V) && !isNaN(L) && !isNaN(deltaI) && isNaN(deltaT)) {
            const deltaTcalc = (deltaI * L) / V;
            risultato = `Œît calcolata: ${deltaTcalc.toFixed(3)} s`;
        } else {
            risultato = "Inserisci almeno 3 valori per calcolare il quarto. Se ne hai inseriti 4 rimuovine uno";
        }

        document.getElementById("risultato").textContent = risultato;
    }

    function calcolaOhm() {
        const V = parseFloat(document.getElementById("vOhm").value);
        const I = parseFloat(document.getElementById("iOhm").value);
        const R = parseFloat(document.getElementById("rOhm").value);
        let out = "";

        if (!isNaN(I) && !isNaN(R) && isNaN(V)) {
            out = `Tensione calcolata: ${(I * R).toFixed(3)} V`;
        } else if (!isNaN(V) && !isNaN(R) && isNaN(I)) {
            out = `Corrente calcolata: ${(V / R).toFixed(3)} A`;
        } else if (!isNaN(V) && !isNaN(I) && isNaN(R)) {
            out = `Resistenza calcolata: ${(V / I).toFixed(3)} Œ©`;
        } else {
            out = "Inserisci due valori per calcolare il terzo.";
        }
        document.getElementById("outputOhm").textContent = out;
    }

    function calcolaCondensatore() {
        const C = parseFloat(document.getElementById("cCap").value);
        const V = parseFloat(document.getElementById("vCap").value);

        if (!isNaN(C) && !isNaN(V)) {
            const E = 0.5 * C * V * V;
            document.getElementById("outputCond").textContent = `Energia immagazzinata: ${E.toFixed(6)} Joule`;
        } else {
            document.getElementById("outputCond").textContent = "Inserisci capacit√† e tensione.";
        }
    }

    function calcolaJoule() {
        const I = parseFloat(document.getElementById("iJoule").value);
        const R = parseFloat(document.getElementById("rJoule").value);

        if (!isNaN(I) && !isNaN(R)) {
            const P = I * I * R;
            document.getElementById("outputJoule").textContent = `Potenza dissipata: ${P.toFixed(3)} Watt`;
        } else {
            document.getElementById("outputJoule").textContent = "Inserisci corrente e resistenza.";
        }
    }
    </script>

</body>
</html>
{% endblock %}